<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">
<h:head><title>ShopR!</title></h:head>
<h:body>

    <b:form id="userData">
        <b:panel title="Users" style="margin-top:10px">
            <b:dataTable var="user" value="#{userController.users}" id="userDataTable">
                <b:dataTableColumn label="Id">
                    <h:outputText value="#{user.id}"/>
                </b:dataTableColumn>
                <b:dataTableColumn label="Name">
                    <h:outputText value="#{user.name}"/>
                </b:dataTableColumn>
                <b:dataTableColumn label="First name">
                    <h:outputText value="#{user.firstName}"/>
                </b:dataTableColumn>
                <b:dataTableColumn label="Operations">
                    <b:commandButton value="Delete" look="danger" action="#{userController.remove(user.id)}"
                                     update="userData"/>
                </b:dataTableColumn>
            </b:dataTable>
        </b:panel>
    </b:form>

    <b:panel title="Registration form">
        <b:form id="registerForm" horizontal="true">
            <b:inputText labelColMd="1" colMd="3" label="Name:" id="userName"
                         value="#{userController.newUser.name}"/>
            <b:inputText labelColMd="1" colMd="3" label="First name:" id="userFirstName"
                         value="#{userController.newUser.firstName}"/>
            <b:commandButton value="Submit" look="success" action="#{userController.submit()}"
                             update="userData loginForm registerForm" />
        </b:form>
    </b:panel>

    <b:panel>
        <b:form id="loginForm">
            <b:messages/>
            <b:selectOneMenu colMd="4" value="#{loginController.selectedUser}" converter="omnifaces.SelectItemsConverter">
                <f:selectItems value="#{userController.users}" var="user" itemValue="#{user}" itemLabel="${user.name} ${user.firstName}"/>
            </b:selectOneMenu>
            <b:commandButton value="Login client" look="success" action="articleOverview?faces-redirect=true" update="loginForm"/>
            <b:commandButton value="Login admin" look="success" action="articleManagement?faces-redirect=true" update="loginForm"/>
        </b:form>
    </b:panel>
</h:body>
</html>
